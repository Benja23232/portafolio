{% extends 'base.html.twig' %}

{% block title %}Inicio - Portafolio Benjamin{% endblock %}

{% block body %}
<style>
/* 1. VARIABLES GLOBALES */
:root {
    --color-primario: #2563eb;           
    --color-primario-hover: #1d4ed8;    
    --color-secundario: #64748b;         
    --color-fondo: #f8fafc;             
    --color-superficie: #ffffff;       
    --color-texto: #1e293b;            
    --color-texto-claro: #64748b;       
    --color-borde: #e2e8f0;             
    --sombra-suave: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --sombra-fuerte-hover: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --radio-borde: 12px;
    --fuente-principal: 'Inter', sans-serif;
    --fuente-titulos: 'Poppins', sans-serif;
    --color-blanco: #ffffff;
    --color-success: #10b981;            
    --color-error: #ef4444;              
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    scroll-behavior: smooth;
}

body {
    height: 100%;
    font-family: var(--fuente-principal);
    background-color: var(--color-fondo);
    color: var(--color-texto);
    line-height: 1.6;
}

h1, h2, h3, h4, h5, h6 {
    font-family: var(--fuente-titulos);
    font-weight: 600;
}

h2 {
    font-size: 2.50rem;
    margin-bottom: 2rem;
    color: #1a1919;
    text-shadow: 2px 4px 4px rgba(61, 57, 57, 0.3);
    text-align: center;
}

h3 {
    font-size: 2rem;
    margin-bottom: 1rem;
    text-align: center;
    padding-top: 10px;
    color: var(--color-texto);
    text-shadow: 2px 2px 2px rgba(255, 255, 255, 0.8);
}

p {
    margin-bottom: 1rem;
    color: var(--color-texto-claro);
}


a {
    text-decoration: none;
    color: var(--color-primario);
    transition: color 0.3s ease;
}

a:hover {
    color: var(--color-primario-hover);
}

img {
    max-width: 100%;
    height: auto;
}

.wrapper {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

.container {
    width: 90%;
    max-width: 1100px;
    margin-left: auto;
    margin-right: auto;
    color: black;
}


/* 4. SECCIONES - COLORES ACTUALIZADOS */
.seccion {
    padding: 6rem 1rem 4rem 1rem;
}

.seccion-tarjetas {
    padding-top: 6rem;
    padding-bottom: 4rem;
}

/* 5. HERO SECTION - NUEVA */
.hero {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    background: linear-gradient(135deg, var(--color-fondo) 0%, #e2e8f0 100%);
    padding: 8rem 1rem 4rem 1rem;
}

.hero-content h1 {
    font-size: 3.5rem;
    margin-bottom: 1rem;
    color: var(--color-texto);
    text-shadow: 2px 4px 8px rgba(0, 0, 0, 0.1);
}

.hero-content .subtitle {
    font-size: 1.5rem;
    color: var(--color-texto-claro);
    margin-bottom: 2rem;
    font-weight: 400;
}

.hero-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
}

.btn-hero {
    padding: 1rem 2rem;
    font-size: 1.1rem;
    border-radius: 10px;
    transition: all 0.3s ease;
    text-decoration: none;
    font-weight: 600;
    border: none;
    cursor: pointer;
    display: inline-block;
}

.btn-primary {
    background: var(--color-primario);
    color: var(--color-blanco);
}

.btn-primary:hover {
    background-color: var(--color-primario-hover);
    color: var(--color-blanco);
    transform: translateY(-2px);
}

.btn-secondary {
    background: transparent;
    color: var(--color-primario);
    border: 2px solid var(--color-primario);
}

.btn-secondary:hover {
    background: var(--color-primario);
    color: var(--color-blanco);
    transform: translateY(-2px);
}


.proyectos-destacados {
    background: var(--color-fondo);
}

.proyectos-compactos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
    margin-bottom: 3rem;
}

.proyecto-compacto {
    background: var(--color-superficie);
    border-radius: var(--radio-borde);
    box-shadow: var(--sombra-suave);
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    border: 1px solid var(--color-borde);
    height: 100%;
}

.proyecto-compacto:hover {
    transform: translateY(-5px);
    box-shadow: var(--sombra-fuerte-hover);
}

.proyecto-imagen {
    height: 200px;
    overflow: hidden;
    background: var(--color-fondo);
}

/* ESTILOS PARA ENLACES DE IM√ÅGENES CLICKEABLES */
.proyecto-imagen a {
    display: block;
    height: 100%;
    text-decoration: none;
    color: inherit;
}

.proyecto-imagen img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s ease;
}

.proyecto-imagen a:hover img {
    transform: scale(1.05);
}

.proyecto-info {
    padding: 1.5rem;
}

.proyecto-info h3 {
    font-size: 1.3rem;
    margin-bottom: 0.5rem;
    text-align: left;
    padding-top: 0;
    text-shadow: none;
}

.proyecto-descripcion-corta {
    color: var(--color-texto-claro);
    font-size: 0.9rem;
    margin-bottom: 1rem;
    line-height: 1.5;
}

.tecnologias-compactas {
    display: flex;
    flex-wrap: wrap;
    gap: 0.3rem;
    margin: 1rem 0;
}

.tecnologia-mini {
    padding: 3px 8px;
    background-color: var(--color-primario);
    border-radius: 12px;
    font-size: 0.7rem;
    font-weight: 500;
    color: var(--color-blanco);
}

.ver-todos-container {
    text-align: center;
    margin-top: 3rem;
}

.btn-ver-todos {
    background: var(--color-secundario);
    color: var(--color-blanco);
    padding: 1rem 2rem;
    font-size: 1.1rem;
}

.btn-ver-todos:hover {
    background: #475569;
    color: var(--color-blanco);
    transform: translateY(-2px);
}

.proyecto {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    width: 100%;
    max-width: 1020px;
    margin: 0 auto 3rem auto;
    background: var(--color-superficie);
    border-radius: var(--radio-borde);
    box-shadow: var(--sombra-suave);
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    border: 1px solid var(--color-borde);
}

.proyecto:hover {
    transform: translateY(-6px);
    box-shadow: 0 0 20px 5px rgba(33, 32, 32, 0.3);
}

.proyecto .foto {
    flex: 0 0 70%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: var(--color-fondo);
    overflow: hidden;
}

.proyecto img {
    width: 100%;
    height: auto;
    object-fit: contain;
    transition: transform 0.4s ease;
}

.proyecto .contenido {
    flex: 1;
    padding: 2rem;
}

.proyecto:hover img {
    transform: scale(1);
    filter: brightness(1.1) contrast(1.1);
}

.gallery-scroll {
    display: flex;
    gap: 16px;
    overflow-x: auto;
    padding: 12px 4px;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
    background: var(--color-fondo);
}

.gallery-scroll::-webkit-scrollbar {
    height: 8px;
}

.gallery-scroll::-webkit-scrollbar-thumb {
    background: rgba(100, 116, 139, 0.5);
    border-radius: 8px;
}

.gallery-scroll::-webkit-scrollbar-track {
    background: transparent;
}

.gallery-item {
    flex: 0 0 auto;
    scroll-snap-align: start;
    border-radius: 12px;
    overflow: hidden;
    height: 100%;
    width: 100%;
    background: var(--color-superficie);
    box-shadow: var(--sombra-suave);
    border: 1px solid var(--color-borde);
}

.gallery-item img {
    display: block;
    height: 100%;
    width: 100%;
}

/* Etiquetas para tecnolog√≠as */
.proyecto .contenido ul {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin: 1rem 0;
}

.proyecto .contenido ul li {
    padding: 5px 12px;
    background-color: var(--color-primario);
    border: 1px solid var(--color-primario);
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 500;
    color: var(--color-blanco);
}

.btn {
    display: inline-block;
    margin-top: 1rem;
    padding: 0.75rem 1.5rem;
    background: var(--color-primario);
    color: var(--color-blanco);
    text-decoration: none;
    border-radius: 8px;
    font-weight: 600;
    border: none;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease;
}

.btn:hover {
    background-color: var(--color-primario-hover);
    color: var(--color-blanco);
    transform: translateY(-2px);
}

.botones-proyecto {
    display: flex;
    gap: 1rem;
    margin-top: 1.5rem;
    flex-wrap: wrap;
}

.skills-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
    margin-top: 2rem;
}

.skills-category {
    background: var(--color-fondo);
    padding: 1.5rem;
    border-radius: var(--radio-borde);
    border: 2px solid var(--color-borde);
}

.skills-category:hover{
    box-shadow: 4px 8px 8px #b8b8b8ff;
}

.skills-category h4 {
    color: var(--color-primario);
    margin-bottom: 1rem;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.skills-lista {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.skill-item {
    background: rgba(36, 120, 246, 1) !important;
    padding: 1rem;
    border-radius: 8px;
    box-shadow: var(--sombra-suave);
    transition: all 0.3s ease;
}

.skill-item:hover {
    transform: translateY(-2px);
    box-shadow: 4px 8px 8px #5a5a5aff;
}

.skill-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.5rem;
}

.skill-name {
    font-weight: 600;
    color: #1a1919;
    font-size: 0.9rem;
}

.skill-level {
    font-size: 0.8rem;
    color: #fff;
    font-weight: 500;
}

.progress {
    background-color: var(--color-borde);
    border-radius: 10px;
    height: 8px;
    width: 100%;
    overflow: hidden;
    position: relative;
}

.progress-fill {
    background: linear-gradient(90deg, var(--color-primario), var(--color-primario-hover));
    height: 100%;
    border-radius: 10px;
    transition: width 0.8s ease-in-out;
}

/* FORMULARIO DE CONTACTO */
.contact-form {
    max-width: 100%;
    margin: 0;
}

.form-group {
    margin-bottom: 1rem;
}

.form-group label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
    color: var(--color-texto);
    font-size: 0.9rem;
}

.form-control {
    width: 100%;
    padding: 0.6rem;
    border: 1px solid var(--color-borde);
    border-radius: 6px;
    font-family: var(--fuente-principal);
    font-size: 0.9rem;
    background: var(--color-superficie);
    transition: all 0.3s ease;
}

.form-control:focus {
    outline: none;
    border-color: var(--color-primario);
    box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
}

textarea.form-control {
    resize: vertical;
    min-height: 100px;
}

.form-errors {
    color: var(--color-error);
    font-size: 0.8rem;
    margin-top: 0.25rem;
}

/* Mensajes flash */
.alert-success {
    background: var(--color-success);
    color: white;
    padding: 0.8rem;
    border-radius: 6px;
    margin-bottom: 1.5rem;
    text-align: center;
    font-size: 0.9rem;
}

.alert-error {
    background: var(--color-error);
    color: white;
    padding: 0.8rem;
    border-radius: 6px;
    margin-bottom: 1.5rem;
    text-align: center;
    font-size: 0.9rem;
}

/* CARDS DE CONTACTO */
.contacto-cards {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.contacto-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.5rem;
    background: var(--color-superficie);
    border-radius: var(--radio-borde);
    box-shadow: var(--sombra-suave);
    text-decoration: none;
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.contacto-card:hover {
    transform: translateY(-3px);
    box-shadow: 4px 8px 8px #908f8fff;
    border-color: #bdbcbcff;
}

.contacto-icon {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    flex-shrink: 0;
}

.contacto-content {
    flex: 1;
}

.contacto-content h4 {
    margin-bottom: 0.3rem;
    color: var(--color-texto);
    font-size: 1rem;
}

.contacto-content p {
    margin: 0;
    color: var(--color-texto-claro);
    font-size: 0.85rem;
}

.whatsapp-card {
    background: #25D366;
    color: white;
}

.whatsapp-card .contacto-content h4,
.whatsapp-card .contacto-content p {
    color: white;
}

.email-card {
    background: var(--color-primario);
    color: white;
}

.email-card .contacto-content h4,
.email-card .contacto-content p {
    color: white;
}

.linkedin-card {
    background: #0077B5;
    color: white;
}

.linkedin-card .contacto-content h4,
.linkedin-card .contacto-content p {
    color: white;
}

.github-card {
    background: #333;
    color: white;
}

.github-card .contacto-content h4,
.github-card .contacto-content p {
    color: white;
}

/* LAYOUT DE DOS COLUMNAS PARA CONTACTO */
.contacto-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 3rem;
    align-items: start;
}

.contacto-info {
    text-align: center;
    margin-bottom: 2rem;
}

.contacto-info h3 {
    font-size: 1.3rem;
    margin-bottom: 1rem;
    color: var(--color-texto);
}

.modal {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: var(--color-superficie);
    border-radius: var(--radio-borde);
    box-shadow: var(--sombra-fuerte-hover);
    z-index: 1002;
    width: 90%;
    max-width: 400px;
    padding: 2rem;
    transition: opacity 0.3s ease, transform 0.3s ease;
}

.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.4);
    z-index: 1001;
    transition: opacity 0.3s ease;
}

.modal.hidden,
.modal-overlay.hidden {
    opacity: 0;
    pointer-events: none;
}

.modal.hidden {
    transform: translate(-50%, -40%);
}

.modal-content .close {
    position: absolute;
    top: 1rem;
    right: 1rem;
    cursor: pointer;
    font-size: 1.5rem;
    color: var(--color-secundario);
    line-height: 1;
}

.modal-content .close:hover {
    color: var(--color-texto);
}

.alerta {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    background: #28a745;
    color: var(--color-blanco);
    padding: 1rem 1.5rem;
    border-radius: 8px;
    box-shadow: var(--sombra-fuerte-hover);
    z-index: 2000;
    transform: translateY(100px);
    opacity: 0;
    transition: transform 0.4s ease-out, opacity 0.4s ease-out;
}

.alerta.show {
    transform: translateY(0);
    opacity: 1;
}

.alerta.hidden {
    display: none;
}

footer {
    background: var(--color-texto);
    color: black;
    text-align: center;
    padding: 2rem 1rem;
    font-size: 0.9rem;
    margin-top: auto;
}

footer span {
    font-weight: bold;
    color: var(--color-blanco);
}

.gallery-wrap {
    display: flex;
    align-items: center;
    gap: 12px;
    width: 100%;
}

.gallery-btn {
    background: rgba(37, 99, 235, 0.8);
    color: var(--color-blanco);
    border: 0;
    width: 90px;
    height: 40px;
    margin:5px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 20px;
    display: inline-grid;
    place-items: center;
    transition: all 0.3s ease;
}

.gallery-btn:hover {
    background: var(--color-primario);
}

.gallery-btn:focus {
    outline: 3px solid rgba(37, 99, 235, 0.35);
}

.gallery-btn.hidden {
    display: none !important;
}

/* 8. RESPONSIVE */
@media (max-width: 768px) {
    .proyecto {
        flex-direction: column;
    }

    .proyecto .foto {
        flex: 0 0 250px;
    }

    .barra-superior ul {
        gap: 1.5rem;
    }

    .contact-form {
        max-width: 100%;
    }

    .hero-content h1 {
        font-size: 2.5rem;
    }
    
    .hero-content .subtitle {
        font-size: 1.2rem;
    }
    
    .proyectos-compactos-grid {
        grid-template-columns: 1fr;
    }
    
    .hero-buttons {
        flex-direction: column;
        align-items: center;
    }
    
    .btn-hero {
        width: 100%;
        max-width: 300px;
    }
    
    .contacto-grid {
        grid-template-columns: 1fr;
        gap: 2rem;
    }
    
    .contacto-card {
        padding: 1.2rem;
    }
    
    .skills-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    .skills-category {
        padding: 1rem;
    }
}

p {
    color: var(--color-texto-claro);
}
</style>

<div class="wrapper">
   <section id="inicio" class="hero">
      <div class="container">
         <div class="hero-content">
            <h1>Benjamin Arancivia</h1>
            <p class="subtitle">Desarrollador Full-Stack & Estudiante de An√°lisis de Sistemas</p>
            <p style="color: var(--color-texto-claro); max-width: 600px; margin: 0 auto 2rem auto; font-size: 1.1rem; line-height: 1.6;">
                Estudiante de nuevas tecnologias para poder aplicarlas en mis futuros proyectos, crear sistemas eficientes y modernos.
            </p>
            <div class="hero-buttons">
               <a href="#proyectos" class="btn-hero btn-primary">üöÄ Ver Mis Proyectos</a>
               <a href="#contacto" class="btn-hero btn-secondary">üìû Contactar</a>
            </div>
         </div>
      </div>
   </section>
   
   <!-- SOBRE M√ç -->
   <section id="sobre-mi" class="seccion-tarjetas">
      <div class="container">
         <h2>Sobre M√≠</h2>
         <article class="proyecto">
            <div class="contenido">
               <h3>Benjamin Arancivia</h3>
               <p style="color: var(--color-texto-claro); line-height: 1.7;">
                  Estudiante de la Tecnicatura en An√°lisis de Sistemas.<strong> Desarrollador FullStack</strong>. 
                  Interesado en crear Sistemas Web eficientes y escalables para crear soluciones y digitalizar procesos. 
                  Apasionado por la arquitectura de software limpia y las mejores pr√°cticas de desarrollo.
               </p>
               
               <h4 style="font-family: var(--fuente-titulos); margin: 2rem 0 1.5rem 0; color: var(--color-texto); text-align: center;">
                  üöÄ Mis Habilidades T√©cnicas
               </h4>
               
               <div class="skills-grid">
                  <div class="skills-category">
                     <h4>üîß Backend</h4>
                     <ul class="skills-lista">
                        <li class="skill-item">
                           <div class="skill-header">
                              <span class="skill-name">PHP</span>
                              <span class="skill-level">Avanzado</span>
                           </div>
                           <div class="progress">
                              <div class="progress-fill" style="width: 85%;"></div>
                           </div>
                        </li>
                        <li class="skill-item">
                           <div class="skill-header">
                              <span class="skill-name">Bases de Datos SQL</span>
                              <span class="skill-level">Avanzado</span>
                           </div>
                           <div class="progress">
                              <div class="progress-fill" style="width: 90%;"></div>
                           </div>
                        </li>
                        <li class="skill-item">
                           <div class="skill-header">
                              <span class="skill-name">APIs RESTful</span>
                              <span class="skill-level">Intermedio-Avanzado</span>
                           </div>
                           <div class="progress">
                              <div class="progress-fill" style="width: 80%;"></div>
                           </div>
                        </li>
                        <li class="skill-item">
                           <div class="skill-header">
                              <span class="skill-name">Java</span>
                              <span class="skill-level">Intermedio</span>
                           </div>
                           <div class="progress">
                              <div class="progress-fill" style="width: 75%;"></div>
                           </div>
                        </li>
                     </ul>
                  </div>
                  
                  <!-- Columna Derecha - Frontend & Herramientas -->
                  <div class="skills-category">
                     <h4>üé® Frontend & Herramientas</h4>
                     <ul class="skills-lista">
                        <li class="skill-item">
                           <div class="skill-header">
                              <span class="skill-name">JavaScript</span>
                              <span class="skill-level">Intermedio-Avanzado</span>
                           </div>
                           <div class="progress">
                              <div class="progress-fill" style="width: 80%;"></div>
                           </div>
                        </li>
                        <li class="skill-item">
                           <div class="skill-header">
                              <span class="skill-name">HTML & CSS</span>
                              <span class="skill-level">Avanzado</span>
                           </div>
                           <div class="progress">
                              <div class="progress-fill" style="width: 90%;"></div>
                           </div>
                        </li>
                        <li class="skill-item">
                           <div class="skill-header">
                              <span class="skill-name">Python</span>
                              <span class="skill-level">Intermedio</span>
                           </div>
                           <div class="progress">
                              <div class="progress-fill" style="width: 70%;"></div>
                           </div>
                        </li>
                        <li class="skill-item">
                           <div class="skill-header">
                              <span class="skill-name">Git & GitHub</span>
                              <span class="skill-level">Intermedio-Avanzado</span>
                           </div>
                           <div class="progress">
                              <div class="progress-fill" style="width: 80%;"></div>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </article>
      </div>
   </section>
   
   <!-- PROYECTOS DESTACADOS -->
   <section id="proyectos" class="seccion proyectos-destacados" style="border-top: 1px solid var(--color-borde); border-bottom: 1px solid var(--color-borde);">
      <div class="container">
         <h2>Proyectos Destacados</h2>
         {% if proyectos is empty %}
         <p style="text-align: center; color: var(--color-secundario); padding: 2rem;">
            A√∫n no tienes proyectos cargados. 
            {% if is_granted('ROLE_ADMIN') %}
               <a href="{{ path('app_proyecto_new') }}" style="color: var(--color-primario);">Agr√©galos aqu√≠</a>
            {% endif %}
         </p>
         {% else %}
            <div class="proyectos-compactos-grid">
               {% for proyecto in proyectos %}
                  <article class="proyecto-compacto">
                     <div class="proyecto-imagen">
                        {% if proyecto.imagens|length > 1 %}
                            <a href="{{ path('app_proyecto_show', {'id': proyecto.id}) }}">
                                <img src="{{ asset('uploads/proyectos/' ~ proyecto.imagens[1].archivo) }}" 
                                     alt="{{ proyecto.titulo }}"
                                     loading="lazy">
                            </a>
                        {% elseif proyecto.imagens|length > 0 %}
                            <a href="{{ path('app_proyecto_show', {'id': proyecto.id}) }}">
                                <img src="{{ asset('uploads/proyectos/' ~ proyecto.imagens.first().archivo) }}" 
                                     alt="{{ proyecto.titulo }}"
                                     loading="lazy">
                            </a>
                        {% else %}
                            <a href="{{ path('app_proyecto_show', {'id': proyecto.id}) }}" style="display: flex; align-items: center; justify-content: center; height: 100%; background: var(--color-secundario); color: white;">
                                üñºÔ∏è Ver Detalles
                            </a>
                        {% endif %}
                     </div>
                     
                     <div class="proyecto-info">
                        <h3>{{ proyecto.titulo }}</h3>
                        <p class="proyecto-descripcion-corta">
                           {{ proyecto.descripcion|u.truncate(120, '...') }}
                        </p>
                        
                        <div class="tecnologias-compactas">
                           {% for tag in proyecto.tecnologias|split(',')|slice(0, 3) %}
                              <span class="tecnologia-mini">{{ tag|trim }}</span>
                           {% endfor %}
                           {% if proyecto.tecnologias|split(',')|length > 3 %}
                              <span class="tecnologia-mini" style="background: var(--color-secundario);">
                                 +{{ proyecto.tecnologias|split(',')|length - 3 }}
                              </span>
                           {% endif %}
                        </div>
                        
                        <div class="botones-proyecto" style="margin-top: 1rem;">
                           <a href="{{ proyecto.enlace }}" class="btn" target="_blank" rel="noopener noreferrer" style="padding: 0.5rem 1rem; font-size: 0.9rem;">
                              üíª C√≥digo
                           </a>
                        </div>
                     </div>
                  </article>
               {% endfor %}
            </div>
            
            {% if proyectos|length > 3 %}
               <div class="ver-todos-container">
                  <a href="{{ path('app_todos_los_proyectos') }}" class="btn btn-ver-todos">
                     üìÇ Ver Todos los Proyectos ({{ proyectos|length }})
                  </a>
               </div>
            {% endif %}
         {% endif %}
      </div>
   </section>

   <!-- SECCI√ìN DE CONTACTO DOS COLUMNAS -->
   <section id="contacto" class="seccion" style="padding: 4rem 1rem;">
      <div class="container">
         <h2>Contacto</h2>
         <p style="text-align: center; color: var(--color-texto-claro); max-width: 600px; margin: 0 auto 3rem auto; font-size: 1rem;">
            ¬øTienes un proyecto en mente? ¬°Hablemos y hag√°moslo realidad!
         </p>
         
         <div class="contacto-grid">
            <!-- COLUMNA IZQUIERDA -->
            <div>
               {% for message in app.flashes('success') %}
                  <div class="alert alert-success">
                     ‚úÖ {{ message }}
                  </div>
               {% endfor %}
               
               {% for message in app.flashes('error') %}
                  <div class="alert alert-error">
                     ‚ùå {{ message }}
                  </div>
               {% endfor %}

               {{ form_start(contactForm, {'attr': {'class': 'contact-form'}}) }}
                  <div class="form-group">
                     {{ form_label(contactForm.nombre) }}
                     {{ form_widget(contactForm.nombre, {'attr': {'class': 'form-control'}}) }}
                     <div class="form-errors">
                        {{ form_errors(contactForm.nombre) }}
                     </div>
                  </div>
                  
                  <div class="form-group">
                     {{ form_label(contactForm.email) }}
                     {{ form_widget(contactForm.email, {'attr': {'class': 'form-control'}}) }}
                     <div class="form-errors">
                        {{ form_errors(contactForm.email) }}
                     </div>
                  </div>
                  
                  <div class="form-group">
                     {{ form_label(contactForm.asunto) }}
                     {{ form_widget(contactForm.asunto, {'attr': {'class': 'form-control'}}) }}
                     <div class="form-errors">
                        {{ form_errors(contactForm.asunto) }}
                     </div>
                  </div>
                  
                  <div class="form-group">
                     {{ form_label(contactForm.mensaje) }}
                     {{ form_widget(contactForm.mensaje, {'attr': {'class': 'form-control'}}) }}
                     <div class="form-errors">
                        {{ form_errors(contactForm.mensaje) }}
                     </div>
                  </div>
                  
                  <button type="submit" class="btn" style="width: 100%; margin-top: 0.5rem;">
                     üì® Enviar Mensaje
                  </button>
               {{ form_end(contactForm) }}
            </div>

            <!-- COLUMNA DERECHA  -->
            <div>
               <div class="contacto-cards">
                  <!-- WhatsApp -->
                  <a href="https://wa.me/542392400685" target="_blank" class="contacto-card whatsapp-card">
                     <div class="contacto-icon" style="background: rgba(255,255,255,0.2);">üí¨</div>
                     <div class="contacto-content">
                        <h4>WhatsApp</h4>
                        <p>+54 (2392) 400685 - Respuesta inmediata</p>
                     </div>
                  </a>
                  
                  <!-- Email -->
                  <a href="mailto:benjaarncivia@gmail.com" class="contacto-card email-card">
                     <div class="contacto-icon" style="background: rgba(255,255,255,0.2);">üìß</div>
                     <div class="contacto-content">
                        <h4>Email</h4>
                        <p>benjaarncivia@gmail.com - Para propuestas formales</p>
                     </div>
                  </a>
                  
                  <!-- LinkedIn -->
                  <a href="https://www.linkedin.com/in/benjamin-arancivia-chicote-1826b6304/" target="_blank" class="contacto-card linkedin-card">
                     <div class="contacto-icon" style="background: rgba(255,255,255,0.2);">üíº</div>
                     <div class="contacto-content">
                        <h4>LinkedIn</h4>
                        <p>Conectemos profesionalmente</p>
                     </div>
                  </a>
                  
                  <!-- GitHub -->
                  <a href="https://github.com/Benja23232" target="_blank" class="contacto-card github-card">
                     <div class="contacto-icon" style="background: rgba(255,255,255,0.2);">üêô</div>
                     <div class="contacto-content">
                        <h4>GitHub</h4>
                        <p>Revisa mis proyectos de c√≥digo abierto</p>
                     </div>
                  </a>
               </div>
            </div>
         </div>
      </div>
   </section>

   <div id="modalOverlay" class="modal-overlay hidden"></div>
   <div id="modal" class="modal hidden">
      <div class="modal-content">
         <span id="closeModal" class="close">&times;</span>
         <h3>Formulario de Contacto</h3>
         <p>Este es un modal centrado y coherente.</p>
      </div>
   </div>
   
   <div id="alerta" class="alerta hidden"></div>
   
   <footer>
      <div class="container">
         Portafolio de <span> ¬© Benjamin Arancivia</span>
      </div>
   </footer>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('.gallery-wrap').forEach((wrap) => {
    if (wrap.dataset.galleryInit === '1') return;

    const scroller = wrap.querySelector('.gallery-scroll');
    const prev = wrap.querySelector('.gallery-prev');
    const next = wrap.querySelector('.gallery-next');
    const items = Array.from(wrap.querySelectorAll('.gallery-item'));
    if (!scroller || !prev || !next) return;

    const getStep = () => {
      const style = getComputedStyle(scroller);
      const gap = parseFloat(style.gap || 16);
      const itemWidth = items[0] ? items[0].getBoundingClientRect().width : 0;
      return itemWidth + gap;
    };

    const scrollByStep = (dir = 1) => {
      const step = getStep();
      scroller.scrollBy({ left: dir * step, behavior: 'smooth' });
    };

    prev.addEventListener('click', () => scrollByStep(-1));
    next.addEventListener('click', () => scrollByStep(1));

    scroller.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowRight') { e.preventDefault(); scrollByStep(1); }
      if (e.key === 'ArrowLeft')  { e.preventDefault(); scrollByStep(-1); }
    });

    const updateButtons = () => {
      const maxScroll = scroller.scrollWidth - scroller.clientWidth;
      const hasOverflow = maxScroll > 5;
      prev.style.display = hasOverflow ? 'inline-grid' : 'none';
      next.style.display = hasOverflow ? 'inline-grid' : 'none';
    };

    updateButtons();
    let resizeTimer;
    window.addEventListener('resize', () => {
      clearTimeout(resizeTimer);
      resizeTimer = setTimeout(updateButtons, 120);
    });

    wrap.dataset.galleryInit = '1';
  });
});
</script>
{% endblock %}